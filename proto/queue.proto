syntax = "proto3";

package queue;

option go_package = "github.com/turnertastic1/boltq/pkg/queuepb";

enum JobType {
  JOB_TYPE_UNSPECIFIED = 0;
  JOB_TYPE_WEBHOOK_DELIVERY = 1;
}

service QueueService {
  rpc EnqueueJob (EnqueueJobRequest) returns (EnqueueJobResponse);
  rpc GetJobStatus (GetJobStatusRequest) returns (GetJobStatusResponse);
}

message EnqueueJobRequest {
  JobType type = 1;
  bytes payload = 2;
}

message EnqueueJobResponse {
  string job_id = 1;
}

message GetJobStatusRequest {
  string job_id = 1;
}

message GetJobStatusResponse {
  string job_id = 1;
  string status = 2;
}